<div class="container px-4 py-5 mx-auto">
  <div class="card card0">
    <div class="d-flex flex-lg-row flex-column-reverse">
      <div class="card card1">
        <div class="row justify-content-center my-auto">
          <div class="col-md-8 col-10 my-5">
            <div class="justify-content-center text-center" *ngIf="isLoggedIn">
              <div class="row justify-content-center mb-3">
                <img class="img-fluid" src="../../../../assets/images/logoname1no-marg.png">
              </div>
              <h1 class="mt-5">¡Bienvenido!</h1>
            </div>

            <form *ngIf="!isLoggedIn" name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
              <div class="row justify-content-center px-3 mb-3">
                <img id="logo" src="../../../../assets/images/logono-marg.png">
              </div>

              <h2 class="msg-info">Únete a CheapTrip</h2>

              <div class="form-group">
                <label class="form-control-label text-muted">Email</label>
                <input type="text" id="email" name="email" placeholder="Email" class="form-control"
                [(ngModel)]="form.email" pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" required #email="ngModel">
              </div>

              <div class="form-group">
                <label class="form-control-label text-muted">Nombre</label>
                <input type="text" id="name" name="name" placeholder="Nombre" class="form-control"
                [(ngModel)]="form.name" required #name="ngModel">
              </div>

              <div class="form-group">
                <label class="form-control-label text-muted">Apellidos</label>
                <input type="text" id="surname" name="surname" placeholder="Apellidos" class="form-control"
                [(ngModel)]="form.surnames" required #surnames="ngModel">
              </div>

              <div class="form-group">
                <label class="form-control-label text-muted">Teléfono</label>
                <input type="text" id="phone" name="phone" placeholder="Teléfono" class="form-control"
                [(ngModel)]="form.phone_number" required #phone_number="ngModel">
              </div>

              <div class="form-group">
                <label class="form-control-label text-muted">Fecha de nacimiento</label>
                <input type="date" id="birthdate" name="birthdate" class="form-control"
                [(ngModel)]="form.birth_date" required #birth_date="ngModel">
              </div>

              <div class="form-group">
                <label class="form-control-label text-muted">Contraseña</label>
                <input type="password" id="password" name="password" placeholder="Contraseña" class="form-control"
                [(ngModel)]="form.password" required #password="ngModel" minlength="5">
              </div>

              <div class="form-group">
                <label class="form-control-label text-muted">Repetir contraseña</label>
                <input type="password" id="rpassword" name="rpassword" placeholder="Repetir contraseña" class="form-control" [(ngModel)]="form.rpassword" pattern="{{form.password}}" #rpassword="ngModel">
              </div>

              <div class="row justify-content-center my-3 px-3">
                <button class="btn-block btn-color">Sign up</button>
              </div>
              <div class="form-group">
                <div class="mt-2 alert alert-danger" role="alert" *ngIf="f.submitted && isRegisterFailed">
                  Error de registro...
                </div>
                <div class="alert alert-danger" role="alert" *ngIf="email.errors && f.submitted">
                  Revisa el email.
                </div>
                <div class="alert alert-danger" role="alert" *ngIf="password.errors && f.submitted">
                  Revisa la contraseña(max. 5 carácteres).
                </div>
                <div class="alert alert-danger" role="alert" *ngIf="rpassword.errors && f.submitted">
                  Las contraseñas no coinciden.
                </div>
                <div class="alert alert-danger" role="alert" *ngIf="name.errors && f.submitted">
                  Introduce un nombre.
                </div>
                <div class="alert alert-danger" role="alert" *ngIf="phone_number.errors && f.submitted">
                  Introduce un teléfono.
                </div>
                <div class="alert alert-danger" role="alert" *ngIf="birth_date.errors && f.submitted">
                  Introduce tu fecha de nacimiento.
                </div>
                <div class="alert alert-success" role="alert" *ngIf="isRegisterSuccess && f.submitted">
                  Registrado correctamente.
                </div>
              </div>
            </form>
          </div>
        </div>
        <div class="bottom text-center mb-5">
          <p href="#" class="sm-text mx-auto mb-3">¿Ya tienes una cuenta? <button class="btn btn-white ml-2"
              routerLink="/login">Log in</button></p>
        </div>
      </div>
      <div class="card card2">
        <div class="my-auto mx-md-5 px-md-5 right">
          <h3 class="text-white">Registro</h3>
          <small class="text-white">Estás sólo a un paso de ver los chollos más impresionantes para reservar en nuestra web, <br>
            ¡y disfrutar de unas vacaciones increíbles! <br> Registrate y disfruta.</small>
        </div>
      </div>
    </div>
  </div>
</div>
